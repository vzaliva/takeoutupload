* Docs
  - [[https://developers.google.com/gmail/imap/imap-extensions#access_to_gmail_labels_x-gm-labels][GMail IMAP extensions]]
  - [[https://imapsync.lamiral.info/FAQ.d/FAQ.Gmail.txt][Note]] on GMail throttling 
* Packages
  - [[https://hackage.haskell.org/package/imap][imap]]
* Plan
  - Extract headers: ~Message-ID~, ~X-Gmail-Labels~.
  - Check if message already exists
  - Append to mbox with first label (or default if missing)
  - Set other labels using Gmail extensions
    (may need to do label mapping using special folder names)
* Testing
*** Memory usage:
    mprof run <executable>
    mprof plot
